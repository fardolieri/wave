import{i as $,q as r,t as v,C as P,E as R,G as k,F as y,I as E,K as F,r as i,x as C,aX as V,a3 as h,a4 as p,a5 as Q,ad as u,a6 as _,aY as q,aZ as z,a8 as d,a_ as D,af as H,y as M,a7 as w,B as x,aE as b,aL as I,aa as j}from"./index.a86cca2e.js";import{a as A,b as K,c as N,m as c,d as W}from"./media-stream.7bb2bee2.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";var O=$({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(n,{slots:a}){const{proxy:{$q:t}}=k(),e=y(E,r);if(e===r)return console.error("QPage needs to be a deep child of QLayout"),r;if(y(F,r)===r)return console.error("QPage needs to be child of QPageContainer"),r;const l=v(()=>{const s=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof n.styleFn=="function"){const g=e.isContainer.value===!0?e.containerHeight.value:t.screen.height;return n.styleFn(s,g)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-s+"px":t.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":t.screen.height-s+"px"}}),f=v(()=>`q-page${n.padding===!0?" q-layout-padding":""}`);return()=>P("main",{class:f.value,style:l.value},R(a.default))}});function G(n){const a=i(n),t=i();return C(a,e=>{let o=e?.parentElement;for(;o&&window.getComputedStyle(o).getPropertyValue("position")==="static";)o=o.parentElement;t.value=o??void 0},{immediate:!0}),t}function T(n,a){const t=i(a.boundingBox),e=A(n,a),o=K(n);return V(()=>{e.position.value.x=Math.max(e.position.value.x,t.value.left),e.position.value.x=Math.min(e.position.value.x,t.value.right-o.width.value),e.position.value.y=Math.max(e.position.value.y,t.value.top),e.position.value.y=Math.min(e.position.value.y,t.value.bottom-o.height.value)}),e}const X=h({__name:"DraggableWithBounding",props:{padding:null},setup(n){const a=n,t=i(),e=i(),o=G(e),{top:l,bottom:f,left:s,right:g}=N(o),B=v(()=>({top:l.value+(a.padding??0),bottom:f.value-(a.padding??0),left:s.value+(a.padding??0),right:g.value-(a.padding??0)})),{style:S}=T(t,{boundingBox:B,preventDefault:!0});return(m,ee)=>(p(),Q(H,null,[u("div",{ref_key:"positionedAncestorHelper",ref:e,style:{display:"none"}},null,512),(p(),_(D,{to:"body"},[u("div",z({ref_key:"dragRef",ref:t,style:`position: fixed; z-index: 4000; ${d(S)}`},m.$attrs),[q(m.$slots,"default")],16)]))],64))}});const Y={class:"video-container shadow-3"},Z={class:"video-skeleton"},J=h({__name:"VideoSurface",setup(n){const a=i();M(t),C(c,t);function t(){!a.value||(a.value.srcObject=c.value??null)}const{width:e}=W();return(o,l)=>d(e)>600?(p(),_(X,{key:0,padding:5},{default:w(()=>[u("div",Y,[x(u("div",Z,null,512),[[b,!d(c)]]),x(u("video",{ref_key:"videoRef",ref:a,autoplay:""},null,512),[[b,d(c)]])])]),_:1})):I("",!0)}});var U=L(J,[["__scopeId","data-v-4186b3b8"]]);const oe=h({__name:"IndexPage",setup(n){return(a,t)=>(p(),_(O,{class:"q-pa-md row relative"},{default:w(()=>[j(U)]),_:1}))}});export{oe as default};
